<div class="mailbox">
 <h3>Mailbox</h3>

 <div class="mailbox-list">
  <div class="mailbox-item">
   <% @conversations.each do |conversation| %>
   <% if conversation.sender_id == current_user.id ||      conversation.recipient_id == current_user.id %>
    <% if conversation.sender_id == current_user.id %>
      <% recipient = User.find(conversation.recipient_id) %>
    <% else %>
      <% recipient = User.find(conversation.sender_id) %>
    <% end %>
    <%= link_to recipient.profile.first_name,   conversation_messages_path(conversation)%>
   <% end %>
  <% end %>
  </div>
 </div>
</div>


<div class"contracts-list">
  <% @num = 1 %>
  <%if current_user.profile.dev_corner.nil? %>
  <p class="devise-heading">Your Contracts</p>
    <% current_user.profile.contracts.each do |contracts| %>
      <p><%= "#{@num}. #{contracts.name} with #{contracts.dev_corner.profile.first_name}" %> <%= link_to "show", contract_path(id: contracts.id)%></p>
      <% @num = @num + 1 %>
    <%end%>
  <%else%>
    <p class="devise-heading">Your Developer Contracts</p>
    <% current_user.profile.dev_corner.contracts.each do |contracts| %>
      <p><%= "#{@num}. #{contracts.name} with #{contracts.profile.first_name}" %><%= link_to "edit", edit_contract_path(id: contracts.id)%></p>
      <% @num = @num + 1 %>
    <%end%>
    <p class="devise-heading">Your Contracts with other Devs</p>
    <% current_user.profile.contracts.each do |contracts| %>
      <p><%= "#{@num}. #{contracts.name} with #{contracts.dev_corner.profile.first_name}" %> <%= link_to "show", contract_path(id: contracts.id)%></p>
      <% @num = @num + 1 %>
    <%end%>
  <%end%>

</div>
